@model List<QuestionModel>



<div class="bg-white p-4 rounded-md shadow-lg ">


    <!-- Header Section -->
    <div class="table-hader">
        <h1 class="table-responsive-title">List of Question</h1>
        <div class="flex gap-4" style="gap:0.5rem">
            <a asp-action="ExportToExcelQuestion" asp-asp-controller="Question" class="export-excel-btn">Export in
                Excel</a>
            <partial name="_My_Button"
                model='new Placement_Preparation.Models.ButtonModel { Title = "Add Question", Url="/Admin/Question/AddOrEditQuestion" }' />
        </div>
    </div>

    <div>
        <!-- Search course name, topic  ,subTopic  dropdown-->
        <div class="responsive-div mb-4">
            <!-- Select Course Dropdown -->
            <div class="dropdown-container">
                <label class="text-gray-700 mb-1">Course Name</label>
                <select style="" asp-items="@(ViewBag.courseList as List<SelectListItem>)" id="courseDropdown"        class="input-field courseDropdown bg-red" style="color:red">
                    <option value="">Select Course</option>
                </select>
            </div>

            <!-- Select Course Dropdown -->
            <div class="dropdown-container">
                <label class="text-gray-700 mb-1">Topic Name</label>
                <select style="" asp-items="@(ViewBag.courseList as List<SelectListItem>)" id="courseDropdown"        class="input-field courseDropdown bg-red" style="color:red">
                    <option value="">Select Topic</option>
                </select>
            </div>

            <!-- Select Sub Topic Dropdown -->
            <div class="dropdown-container">
                <label class="text-gray-700 mb-1">Topic Name</label>
                <select style="" asp-items="@(ViewBag.courseList as List<SelectListItem>)" id="courseDropdown"        class="input-field courseDropdown bg-red" style="color:red">
                    <option value="">Select Sub Topic</option>
                </select>
            </div>

            <!-- search and clear btn -->
            <div class="button-container">
                <!-- Search Button -->
                <button class="search-button">Search</button>
                <!-- Clear Button -->
                <button class="clear-button">Clear</button>
            </div>



        </div>


        <!-- Search Bar Section -->
        <div class="relative">
            <input id="questionSearch"
                class="bg-gray-100 w-full pr-11 h-10 pl-3 py-2 bg-transparent placeholder:text-slate-400 text-slate-700 text-sm border border-slate-200 rounded transition duration-300 ease focus:outline-none focus:border-blue-500 hover:border-blue-500 shadow-sm focus:shadow-md"
                placeholder="Search for Question..." />
            <button class="absolute h-8 w-8 right-1 top-1 my-auto px-2 flex items-center bg-white rounded "
                type="button">
                <svg xmlns="http://www.w3.org/2000/svg" fill="transparent" viewBox="0 0 24 24" stroke-width="3"
                    stroke="currentColor" class="w-8 h-8 text-slate-600">
                    <path stroke-linecap="round" stroke-linejoin="round"
                        d="m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z" />
                </svg>
            </button>
        </div>

        <!-- Table Section -->
        <div class="mt-6 overflow-x-auto w-full">
            <table class="min-w-full  bg-white border border-gray-200">
                <thead>
                    <tr class="bg-gray-100 text-nowrap text-gray-600  uppercase text-sm leading-normal">
                        <th class="py-3 px-6 text-left">#</th>
                        <th class="py-3 px-6 text-left">Question</th>
                        <th class="py-3 px-6 text-left">Active</th>
                        <th class="py-3 px-6 text-left">Action</th>
                    </tr>
                </thead>
                <tbody id="question" class="text-gray-700 text-sm font-light">
                    @{
                        int index = 1;
                        foreach (var question in Model)
                        {
                            <tr class="border-b text-nowrap  border-gray-200 hover:bg-gray-50">
                                <td class="py-3 px-6 text-left">@index</td>
                                <td class="py-3 px-6 text-left">@question.Question</td>
                                <td class="py-3 px-6 text-left"><span
                                        class="@(question.IsActive ? "yes-btn" : "no-btn")">@(question.IsActive ? "Yes" :
                                "No")</span></td>

                                <td class="py-3 px-6 text-left flex gap-x-4">
                                    <a class="cursor-pointer" asp-action="AddOrEditQuestion" asp-controller="Question"
                                        asp-route-questionId="@question.QuestionId"><img src="~/assets/icons/edit.svg"
                                            height="20" width="20" /></a>
                                    <a class="cursor-pointer"
                                        onclick="confirmDelete('/DeleteQuestion/@question.QuestionId')"><img
                                            src="~/assets/icons/delete.svg" height="20" width="20" /></a>
                                </td>
                            </tr>
                            index++;
                        }
                    }
                </tbody>
            </table>
        </div>
    </div>

</div>


@section Scripts {
    <script>
        $(document).ready(function () {
            $('#questionSearch').on("keyup", function () {
                var value = $(this).val().toLowerCase().toString().trim();

                // Filter table rows based on search input
                $("#question tr").filter(function () {
                    $(this).toggle($(this).text().toLowerCase().indexOf(value) > -1);
                });

                // Check the number of visible rows
                var visibleRows = $("#question tr:visible").length;

                // Remove existing "No question   Found" row if it exists
                $("#question .no-question-found").remove();

                // If no rows are visible, add the "No Question Found" row
                if (visibleRows === 0) {
                    $("#question").append('<tr class="border-b text-nowrap border-gray-200 hover:bg-gray-50 no-question-found"><td class="py-3 px-6 text-center" colspan="4">No Question  Found</td></tr>');
                }
            });
        });
    </script>
}
